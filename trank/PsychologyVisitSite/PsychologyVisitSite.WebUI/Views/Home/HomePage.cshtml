@{
    ViewBag.Title = "HomePage";
}

@section Scripts
{
    <script>
        $(document).ready(function () {
            var dropZone = document.getElementById('drop_zone');
            dropZone.addEventListener('dragover', handleDragOver, false);
            dropZone.addEventListener('drop', handleFileSelect, false);
        });
        $(function () {
            $('#myTab a:first').tab('show');
        });
    </script>
}

@section Body
{
    <div ng-controller="MainCtrl">

        <!-- Nav tabs -->
        <ul class="nav nav-tabs" id="myTab">
            <li class="active"><a href="#home" data-toggle="tab">Главная</a></li>
            <li><a href="#events" data-toggle="tab">События</a></li>
            <li><a href="#contacts" data-toggle="tab">Контакты</a></li>
            <li><a href="#settings" data-toggle="tab">Настройки</a></li>
            <li><a href="#registrations" data-toggle="tab">Регистрации</a></li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
            <div class="tab-pane fade in active" id="home">

                <div id="homeCarousel" class="carousel slide" data-interval="3000" data-ride="carousel" ng-init="getImgUrls()">
                    <!-- Indicators -->
                    <ol class="carousel-indicators" id="homeCarouselIndicators"></ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" id="homeCarouselInner"></div>

                    <!-- Controls -->
                    <a class="left carousel-control" href="#homeCarousel" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                    </a>
                    <a class="right carousel-control" href="#homeCarousel" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                    </a>
                </div>

                <button class="btn btn-primary btn-primary" data-toggle="modal" data-target="#editHomeModal">Edit page</button>
            </div>

            <div class="tab-pane fade" id="events">
                ...
            </div>


            <div class="tab-pane fade" id="contacts">...</div>

            <div class="tab-pane fade" id="registrations">
                <div ng-controller="RegistrationsCtrl" ng-cloak ng-init="getLastRegistration()">
                    <button class="btn btn-primary btn-primary" data-toggle="modal" data-target="#registrationModal">Registrate</button>
                    <!-- Modal -->
                    <div class="modal fade" id="registrationModal" tabindex="-1" role="dialog" aria-labelledby="registrationModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    <h4 class="modal-title" id="registrationModalLabel">Contact information</h4>
                                </div>

                                <div class="modal-body">
                                    <div class="form-horizontal">
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">First Name</label>
                                            <div class="col-xs-6">
                                                <input class="form-control" ng-model="registration.FirstName" placeholder="First Name" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">Last Name</label>
                                            <div class="col-xs-6">
                                                <input class="form-control" ng-model="registration.LastName" placeholder="Last Name" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">First Name</label>
                                            <div class="col-xs-6">
                                                <input class="form-control" ng-model="registration.Location" placeholder="Location" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">Email</label>
                                            <div class="col-xs-6">
                                                <input class="form-control" ng-model="registration.Email" placeholder="Email" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">Skype</label>
                                            <div class="col-xs-6">
                                                <input class="form-control" ng-model="registration.Skype" placeholder="Skype" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">Phone Number</label>
                                            <div class="col-xs-6">
                                                <input class="form-control" ng-model="registration.PhoneNumber" placeholder="Phone Number" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">Phone Number</label>
                                            <div class="col-xs-6">
                                                <input class="form-control" ng-model="registration.Comment" placeholder="Phone Number" />
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="modal-footer">
                                    <button class="btn btn-primary" ng-click="createRegistration()">Submit</button>
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                </div>

                            </div><!-- /.modal-content -->
                        </div><!-- /.modal-dialog -->
                    </div><!-- /.modal -->


                    <button class="btn btn-primary btn-primary" data-toggle="modal" data-target="#modal-lg" ng-click="getAllRegistrations()">View registrations</button>
                    <!-- Modal -->
                    <div class="modal fade" id="modal-lg" tabindex="-1" role="dialog" aria-labelledby="registrationsModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                    <h4 class="modal-title" id="registrationsModalLabel">Registered</h4>
                                </div>

                                <div class="modal-body">
                                    <div class="panel-body">
                                        <table class="table table-striped table-condensed">
                                            <thead>
                                                <tr>
                                                    <th>FirstName</th>
                                                    <th>LastName</th>
                                                    <th>Location</th>
                                                    <th>Email</th>
                                                    <th>Skype</th>
                                                    <th>Phone Number</th>
                                                </tr>
                                            </thead>
                                            <tbody ng-repeat="reg in registrations">
                                                <tr>
                                                    <td>{{ reg.FirstName }}</td>
                                                    <td>{{ reg.LastName }}></td>
                                                    <td>{{ reg.Location }}</td>
                                                    <td>{{ reg.Email }}</td>
                                                    <td>{{ reg.Skype }}></td>
                                                    <td>{{ reg.PhoneNumber }}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                </div>
                            </div><!-- /.modal-content -->
                        </div><!-- /.modal-dialog -->
                    </div><!-- /.modal -->
                </div>


            </div>
            <div class="tab-pane fade" id="settings">...</div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="editHomeModal" tabindex="-1" role="dialog" aria-labelledby="editHomeModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="editHomeModalLabel">Edit Home page</h4>
                    </div>
                    <div class="modal-body">
                        <div id="drop_zone" class="form-control">Drop files here</div>
                        @*<input type="file" name="files[]" id="uploadImgs" multiple />*@
                        <ul class="list-unstyled list-inline" id="list"></ul>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" ng-cloak ng-click="uploadImage()">Save</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->

    </div>

}



